<!DOCTYPE html>
<html>
<head>
    <title>KING MAPS GLOBAL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map { height: 100vh; width: 100%; background: #1a1a1a; }
        body { margin: 0; }
        .search-box {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            z-index: 1000; background: white; padding: 10px; border-radius: 30px;
            display: flex; box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        input { border: none; outline: none; padding: 5px 15px; width: 200px; }
        button.narrow-btn { background: #000; color: gold; border: none; border-radius: 20px; padding: 5px 15px; cursor: pointer; }
        .urgent-btn { position: fixed; bottom: 30px; right: 20px; z-index: 1000; background: red; color: white; border: none; border-radius: 50%; width: 70px; height: 70px; font-weight: bold; border: 3px solid white; cursor: pointer; }
    </style>
</head>
<body>

    <div class="search-box">
        <input type="text" id="cityInput" placeholder="Enter City (e.g. New York)">
        <button class="narrow-btn" onclick="searchCity()">NARROW</button>
    </div>

    <button class="urgent-btn" onclick="triggerUrgent()">SOS</button>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
    <script>
        // Simple search narrow function
        async function searchCity() {
            const city = document.getElementById('cityInput').value;
            const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${city}`);
            const data = await response.json();
            if (data.length > 0) {
                narrowToLocation(data[0].lat, data[0].lon);
            } else {
                alert("City not found, King.");
            }
        }
    </script>
</body>
</html>
// 1. Initialize Map (Globe-style zoom)
const map = L.map('map').setView([0.3136, 32.5811], 13);

// 2. The Globe & Street Layers
const streetLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Â© OpenStreetMap'
}).addTo(map);

// 3. Narrow / Search Logic (Simulated)
function narrowToLocation(lat, lng) {
    map.flyTo([lat, lng], 18, {
        animate: true,
        duration: 2 // Smooth 2-second zoom
    });
}

// 4. Tracking "Customers" (Uber Style)
let customerMarker = L.circleMarker([0.315, 32.585], {
    color: '#00ff00',
    radius: 10
}).addTo(map).bindPopup("<b>LIVE CUSTOMER</b>");

// 5. Emergency Button
function triggerUrgent() {
    navigator.geolocation.getCurrentPosition(pos => {
        const { latitude, longitude } = pos.coords;
        alert("ðŸš¨ URGENT: Location sent to King Servers!\nLAT: " + latitude + "\nLNG: " + longitude);
        narrowToLocation(latitude, longitude); // Auto-narrow to your spot
    });
}
// 1. Initialize Map (Center of Kampala)
const map = L.map('map').setView([0.3136, 32.5811], 13);

// 2. Load the Map Tiles (OpenStreetMap)
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Â© OpenStreetMap'
}).addTo(map);

// 3. Urgent Button Logic
function triggerUrgent() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
            const { latitude, longitude } = position.coords;
            alert(`KING ALERT SENT!\nLocation: ${latitude}, ${longitude}\nStay calm, help is being tracked.`);
            // This is where you'd connect to a real emergency API later
        });
    } else {
        alert("GPS not working. Please enable location.");
    }
}

// 4. Register the Service Worker (For Offline Mode)
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js');
    });
}
<!DOCTYPE html>
<html>
<head>
    <title>KING MAPS - Offline Edition</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map { height: 100vh; width: 100%; }
        body { margin: 0; font-family: sans-serif; background: #000; }
        .urgent-btn {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            z-index: 1000; background: red; color: white; padding: 15px 30px;
            border-radius: 50px; font-weight: bold; border: 4px solid white;
        }
        .king-label {
            position: fixed; top: 10px; right: 10px; z-index: 1000;
            background: gold; padding: 5px 10px; border-radius: 5px; font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="king-label">KING EDITION v1.0</div>
    <button class="urgent-btn" onclick="triggerUrgent()">URGENT HELP</button>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; background: #000; }
        #map { position: absolute; width: 100%; height: 100vh; }
    </style>
    <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css" rel="stylesheet" />
</head>
<body>
    <div id="map"></div>
    <script>
        const key = 'YOUR_MAPTILER_API_KEY'; // <--- PUT YOUR KEY HERE

        const map = new maplibregl.Map({
            container: 'map',
            style: `https://api.maptiler.com/maps/streets-v2/style.json?key=${key}`,
            center: [0, 0],
            zoom: 1, 
            projection: 'globe' // THE MAGIC LINE
        });

        map.addControl(new maplibregl.NavigationControl(), 'top-right');
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KING MAPS: GLOBAL EDITION</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; background: #050505; color: gold; font-family: 'Segoe UI', sans-serif; }
        #map { height: 100vh; width: 100%; }
        .ui-panel { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; display: flex; gap: 10px; background: rgba(0,0,0,0.8); padding: 10px; border: 1px solid gold; border-radius: 50px; }
        input { background: transparent; border: none; color: white; padding: 5px 15px; width: 250px; outline: none; }
        .btn { background: gold; color: black; border: none; padding: 8px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; }
        .sos-btn { position: fixed; bottom: 30px; right: 20px; z-index: 1000; background: red; color: white; border: 4px solid white; border-radius: 50%; width: 70px; height: 70px; font-weight: bold; cursor: pointer; box-shadow: 0 0 20px red; }
    </style>
</head>
<body>
    <div class="ui-panel">
        <input type="text" id="searchLocation" placeholder="NARROW TO (e.g. New York, Kasubi...)">
        <button class="btn" onclick="executeNarrow()">NARROW</button>
    </div>
    <button class="sos-btn" onclick="triggerSOS()">SOS</button>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
const map = L.map('map').setView([0.3136, 32.5811], 13); // Start in Kampala

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'KING MAPS Â© Asher'
}).addTo(map);

function narrowTo() {
    const city = document.getElementById('city').value;
    fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${city}`)
        .then(res => res.json())
        .then(data => {
            if (data[0]) {
                map.flyTo([data[0].lat, data[0].lon], 16, { duration: 3 });
            }
        });
}

function sos() {
    navigator.geolocation.getCurrentPosition(pos => {
        alert("URGENT: Location tracked at " + pos.coords.latitude + ", " + pos.coords.longitude);
        map.flyTo([pos.coords.latitude, pos.coords.longitude], 18);
    });
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KING MAPS: GLOBAL EDITION</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; background: #050505; color: gold; font-family: 'Segoe UI', sans-serif; }
        #map { height: 100vh; width: 100%; }
        .ui-panel { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; display: flex; gap: 10px; background: rgba(0,0,0,0.8); padding: 10px; border: 1px solid gold; border-radius: 50px; }
        input { background: transparent; border: none; color: white; padding: 5px 15px; width: 250px; outline: none; }
        .btn { background: gold; color: black; border: none; padding: 8px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; }
        .sos-btn { position: fixed; bottom: 30px; right: 20px; z-index: 1000; background: red; color: white; border: 4px solid white; border-radius: 50%; width: 70px; height: 70px; font-weight: bold; cursor: pointer; box-shadow: 0 0 20px red; }
    </style>
</head>
<body>
    <div class="ui-panel">
        <input type="text" id="searchLocation" placeholder="NARROW TO (e.g. New York, Kasubi...)">
        <button class="btn" onclick="executeNarrow()">NARROW</button>
    </div>
    <button class="sos-btn" onclick="triggerSOS()">SOS</button>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
// Initialize Map - Starting with a Global View
const map = L.map('map', {
    worldCopyJump: true,
    center: [0.3136, 32.5811], // Start in Kampala
    zoom: 3
});

// High-Definition Street & Globe Tiles
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'KING MAPS Â© ASHER INDUSTRIES'
}).addTo(map);

// The "Narrow" Execution
async function executeNarrow() {
    const loc = document.getElementById('searchLocation').value;
    const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${loc}`);
    const data = await response.json();
    
    if (data.length > 0) {
        // FlyTo creates that "Globe-to-Street" zoom effect
        map.flyTo([data[0].lat, data[0].lon], 18, {
            animate: true,
            duration: 3
        });
    } else {
        alert("Location not found in King Database.");
    }
}

// SOS Tracking
function triggerSOS() {
    navigator.geolocation.getCurrentPosition(pos => {
        const { latitude, longitude } = pos.coords;
        L.marker([latitude, longitude]).addTo(map).bindPopup("<b>KING SOS ACTIVE</b>").openPopup();
        map.flyTo([latitude, longitude], 18);
        alert("SOS TRANSMITTED. Data logged for Trillionaire HQ.");
    });
}
// KING MAPS USER TRACKER
// This hits a free counting API to track your 'Total Hits'
async function trackUser() {
    try {
        // Replace 'kingmaps_asher' with a unique name for your project
        const response = await fetch('https://api.countapi.xyz/hit/kingmaps_asher/visits');
        const data = await response.json();
        console.log("Total King Maps Deployments: " + data.value);
        
        // Optional: Show it on your screen so you can see your power growing
        const trackerDiv = document.createElement('div');
        trackerDiv.style = "position:fixed; bottom:10px; left:10px; color:gold; font-size:12px; z-index:2000;";
        trackerDiv.innerHTML = "ACTIVE USERS: " + data.value;
        document.body.appendChild(trackerDiv);
    } catch (error) {
        console.log("Tracking offline, but the King still moves.");
    }
}

// Run tracker on startup
trackUser();
// Add Satellite Layerconst satelliteLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {Â  Â  attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'});
// Add a Layer Control button to switch between Street and Satellite (Globe)const baseMaps = {Â  Â  "Street View": streetLayer,Â  Â  "Globe Satellite": satelliteLayer};
L.control.layers(baseMaps).addTo(map);
// Add 3D-style tilt (Simulation)function toggle3D() {Â  Â  const mapElement = document.getElementById('map');Â  Â  mapElement.style.transform = "perspective(800px) rotateX(20deg)";Â  Â  mapElement.style.transition = "transform 1s";}
// 1. High-Def Satellite (The "Globe" Look)
const satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    attribution: 'King Maps Satellite'
});

// 2. Transparent Labels (The "8D" Data Layer)
const labels = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png', {
    pane: 'shadowPane' // Keeps labels on top of everything
});

// 3. Initialize with BOTH for the "Pro" look
const map = L.map('map', {
    center: [0.3136, 32.5811],
    zoom: 13,
    layers: [satellite, labels] // This loads the satellite with text on top
});
// 1. Initialize the Map
const map = L.map('map').setView([0.3136, 32.5811], 13); // Kampala HQ

// 2. The Esri Satellite Tile (The "Globe" Look)
const esriSatellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
}).addTo(map);

// 3. The Transparent Labels (So you can see street names over the satellite)
const labels = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png', {
    pane: 'shadowPane'
}).addTo(map);

// 4. Narrow Function (Fly into the neighborhood)
function narrowTo(lat, lng) {
    map.flyTo([lat, lng], 17, {
        animate: true,
        duration: 3
    });
}
// 1. Initialize the Map at Kampala HQconst map = L.map('map').setView([0.3136, 32.5811], 13);Â 
// 2. This is the SECRET LINK to the Esri Satellite Tilesconst esriSatellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {Â  Â  attribution: 'KING MAPS | Imagery Â© Esri'}).addTo(map);
// 3. Add the "Dark Labels" so you can see street names over the treesconst labels = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png', {Â  Â  pane: 'shadowPane'}).addTo(map);
// 4. Tracker: Log when the map is officially LIVEmap.whenReady(() => {Â  Â  console.log("King Maps is Online. Esri Satellite Synced.");});
<div class="action-panel" style="position:fixed; bottom:110px; left:50%; transform:translateX(-50%); z-index:1000; display:flex; gap:10px;">
    <button onclick="requestUber()" style="background:#000; color:#fff; border:2px solid gold; padding:10px 20px; border-radius:10px; font-weight:bold;">UBER PICKUP</button>
    <button onclick="requestDelivery()" style="background:gold; color:#000; border:none; padding:10px 20px; border-radius:10px; font-weight:bold;">KING DELIVERY</button>
</div>
function requestUber() {
    navigator.geolocation.getCurrentPosition(pos => {
        const lat = pos.coords.latitude;
        const lng = pos.coords.longitude;
        
        // This is a Deep Link. It opens the Uber App and sets the Pickup Point!
        const uberUrl = `uber://?action=setPickup&pickup[latitude]=${lat}&pickup[longitude]=${lng}`;
        
        // If the user doesn't have the app, it opens the website
        window.location.href = uberUrl;
        
        alert("Redirecting to Uber Secure Servers...");
    });
}

function requestDelivery() {
    alert("King Delivery Mode Activated. Connecting to local fleet...");
    // This is where your 'Paps Friends' drivers come in
}
<div class="king-services" style="position:fixed; bottom:120px; left:10px; z-index:1000; display:flex; flex-direction:column; gap:10px;">
    <button onclick="launchTransport()" class="btn-king">GET RIDE</button>
    <button onclick="launchShopping()" class="btn-king">SHOPPING/DELIVERY</button>
    <button onclick="launchFood()" class="btn-king">ORDER FOOD</button>
</div>

<style>
    .btn-king { 
        background: rgba(0,0,0,0.8); color: gold; border: 1px solid gold; 
        padding: 12px; border-radius: 8px; font-weight: bold; width: 160px; cursor: pointer;
    }
</style>
let userCountry = "UG"; // Default to Uganda

// Auto-detect country using IP logic
fetch('https://ipapi.co/json/')
  .then(res => res.json())
  .then(data => {
      userCountry = data.country_code;
      console.log("King Maps Regionalized to: " + userCountry);
  });

function launchTransport() {
    // Uber works globally
    window.location.href = "uber://"; 
    // If they don't have Uber, wait 2 seconds then try Bolt (Common in UG)
    setTimeout(() => { if(userCountry === "UG") window.location.href = "bolt://"; }, 2000);
}

function launchShopping() {
    if (userCountry === "UG") {
        // Jumia for Uganda
        window.location.href = "jumia://"; 
        // Fallback to website if app isn't installed
        setTimeout(() => { window.location.href = "https://www.jumia.ug"; }, 2500);
    } else if (userCountry === "US") {
        // Amazon for USA
        window.location.href = "com.amazon.mobile.shopping://";
    }
}

function launchFood() {
    if (userCountry === "UG") {
        window.location.href = "glovo://"; // Glovo is huge in Kampala
    } else {
        window.location.href = "ubereats://";
    }
}
let userCountry = "UG"; // Default to Uganda

// Auto-detect country using IP logic
fetch('https://ipapi.co/json/')
  .then(res => res.json())
  .then(data => {
      userCountry = data.country_code;
      console.log("King Maps Regionalized to: " + userCountry);
  });

function launchTransport() {
    // Uber works globally
    window.location.href = "uber://"; 
    // If they don't have Uber, wait 2 seconds then try Bolt (Common in UG)
    setTimeout(() => { if(userCountry === "UG") window.location.href = "bolt://"; }, 2000);
}

function launchShopping() {
    if (userCountry === "UG") {
        // Jumia for Uganda
        window.location.href = "jumia://"; 
        // Fallback to website if app isn't installed
        setTimeout(() => { window.location.href = "https://www.jumia.ug"; }, 2500);
    } else if (userCountry === "US") {
        // Amazon for USA
        window.location.href = "com.amazon.mobile.shopping://";
    }
}

function launchFood() {
    if (userCountry === "UG") {
        window.location.href = "glovo://"; // Glovo is huge in Kampala
    } else {
        window.location.href = "ubereats://";
    }
}
function triggerSOS() {
    console.log("Initializing Emergency Protocol...");
    
    // Check if the browser even supports Geolocation
    if (!navigator.geolocation) {
        alert("CRITICAL ERROR: High-precision tracking not supported on this hardware.");
        return;
    }

    const options = {
        enableHighAccuracy: true,
        timeout: 5000,
        maximumAge: 0
    };

    navigator.geolocation.getCurrentPosition(
        (pos) => {
            const { latitude, longitude } = pos.coords;
            // Mark the SOS on the map
            L.marker([latitude, longitude], {icon: L.divIcon({className: 'sos-ripple'})}).addTo(map);
            map.flyTo([latitude, longitude], 18);
            alert("SITUATIONAL ALERT: Emergency coordinates broadcasted to King Servers.");
        },
        (err) => {
            alert("ACCESS DENIED: Please enable 'Location Services' to utilize the SOS Security Layer.");
        },
        options
    );
}
function triggerSOS() {
    console.log("Initializing Emergency Protocol...");
    
    // Check if the browser even supports Geolocation
    if (!navigator.geolocation) {
        alert("CRITICAL ERROR: High-precision tracking not supported on this hardware.");
        return;
    }

    const options = {
        enableHighAccuracy: true,
        timeout: 5000,
        maximumAge: 0
    };

    navigator.geolocation.getCurrentPosition(
        (pos) => {
            const { latitude, longitude } = pos.coords;
            // Mark the SOS on the map
            L.marker([latitude, longitude], {icon: L.divIcon({className: 'sos-ripple'})}).addTo(map);
            map.flyTo([latitude, longitude], 18);
            alert("SITUATIONAL ALERT: Emergency coordinates broadcasted to King Servers.");
        },
        (err) => {
            alert("ACCESS DENIED: Please enable 'Location Services' to utilize the SOS Security Layer.");
        },
        options
    );
}
.sos-ripple {
    width: 20px;
    height: 20px;
    background: red;
    border-radius: 50%;
    box-shadow: 0 0 0 rgba(255, 0, 0, 0.4);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
    70% { transform: scale(1); box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
    100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
}
// Global App Connectors
function requestUber() {
    window.location.href = "uber://";
    setTimeout(() => { window.location.href = "https://www.uber.com"; }, 2000);
}

function triggerSOS() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
            alert("EMERGENCY: Coordinates " + position.coords.latitude + ", " + position.coords.longitude + " sent to King Command.");
        }, () => {
            alert("Error: Enable GPS for SOS.");
        });
    }
}
